CREATE TABLE GESTORI_BAR
(CARTA_D_IDENTITA CHAR(10) PRIMARY KEY,
RUOLO_SVOLTO VARCHAR (25));


create table eventi
(DATA_EVENTO DATE PRIMARY KEY,
TIPO_DI_EVENTO VARCHAR(20) NOT NULL,
PROMOZIONI VARCHAR(18),
DATI_ANAGRAFICI CHAR(10),
CONSTRAINT FK1 FOREIGN KEY(DATI_ANAGRAFICI)
REFERENCES GESTORI_BAR (CARTA_D_IDENTITA));

CREATE TABLE DIPENDENTI
(CODICE_FISCALE_DIPENDENTI CHAR(8) PRIMARY KEY,
CODICE_COLLOCAMENTO CHAR (5) NOT NULL,
ID_CARTA_IDENTITA_PROPRIETARIO CHAR(10),
CONSTRAINT FK2 FOREIGN KEY(ID_CARTA_IDENTITA_PROPRIETARIO)
REFERENCES GESTORI_BAR(CARTA_D_IDENTITA));

CREATE TABLE CONTRATTO
(CODICE_CONTRATTO CHAR(3) PRIMARY KEY,
PREZZO_PAGA NUMBER,
TIPO_DI_DIPENDENTE VARCHAR(8),
DATA_INIZIO DATE,
DATA_FINE DATE,
ID_COD_DIPENDENTI CHAR (8),
CONSTRAINT V1 CHECK(TIPO_DI_DIPENDENTE IN ('BARISTA','CASSIERE')),
CONSTRAINT FK3 FOREIGN KEY(ID_COD_DIPENDENTI)
REFERENCES DIPENDENTI(CODICE_FISCALE_DIPENDENTI));

CREATE TABLE TURNO_DI_LAVORO
(DATA DATE,
TIPO_DI_TURNO CHAR(1),
SOLDI_INCASSATI NUMBER,
CONSTRAINT V2 CHECK(TIPO_DI_TURNO IN('M','P','S','N')),
CONSTRAINT PK PRIMARY KEY(DATA,TIPO_DI_TURNO));

create table contratto_turno(
ID_CODICE_CONTRATTO CHAR(3),
DATA1 DATE,
TIPO_TURNO CHAR(1),
CONSTRAINT FK6 FOREIGN KEY(ID_CODICE_CONTRATTO)
REFERENCES CONTRATTO(CODICE_CONTRATTO),
CONSTRAINT FK7 FOREIGN KEY(DATA1,TIPO_TURNO)
REFERENCES TURNO_DI_LAVORO(DATA,TIPO_DI_TURNO));

CREATE TABLE FORNITURA
(CODICE_AZIENDA CHAR(4) PRIMARY KEY,
NOME_FORNITORE VARCHAR(15),
TIPO_DI_FORNITORE VARCHAR(15));

CREATE TABLE CARELLO
(ID_CARELLO VARCHAR(5),
NOME_PRODOTTO VARCHAR(25),
QUANTITA_DI_PRODOTTI NUMBER,
PREZZO NUMBER,
C_IDENTITA_GESTORE CHAR(10),
CODICE_AZIENDA1 CHAR (4),
CONSTRAINT FK4 FOREIGN KEY(C_IDENTITA_GESTORE)
REFERENCES GESTORI_BAR(CARTA_D_IDENTITA),
CONSTRAINT FK5 FOREIGN KEY(CODICE_AZIENDA1)
REFERENCES FORNITURA(CODICE_AZIENDA),
CONSTRAINT PK1 PRIMARY KEY(ID_CARELLO,NOME_PRODOTTO));